<?xml version="1.0" ?>
<project name="try" width=1024 height=512>
	<assets>
		<scenes>
			<scene name="MainScene" >
				<ROTATE x=1 y=0 z=0 w=90 />
				<file name="../../models/Teapot.3ds"/>
			</scene>
		</scenes>
		
		<viewports>
			<viewport name="Left" >
				<ORIGIN x=0.0 y=0.0 />
				<SIZE width=0.5 height=1 />
				<CLEAR_COLOR  r="0.2" g="0.2" b="0.4" />
			</viewport>
			<viewport name="Right" >
				<ORIGIN x=0.5 y=0.0 />
				<SIZE width=0.5 height=1 />
				<CLEAR_COLOR  r="0.4" g="0.2" b="0.2" />
			</viewport>
		</viewports>
		
		<cameras>
			<camera name="Master" >
				<viewport name="Left" />
				<projection TYPE="PERSPECTIVE" FOV=60.0 NEAR=1 FAR="5000.0" />
				<POSITION x="0.0" y="0.0" z="125.0" />
				<VIEW x="0.0" y="0.0" z="-1.0" />
				<UP x="0.0" y="1.0" z="0.0" />
			</camera>
			<camera name="Slave" >
				<viewport name="Right" />
				<projection TYPE="PERSPECTIVE" FOV=60.0 NEAR=1 FAR="5000.0" />
				<POSITION x="0.0" y="0.0" z="125.0" />
				<VIEW x="0.0" y="0.0" z="-1.0" />
				<UP x="0.0" y="1.0" z="0.0" />
			</camera>
		</cameras>
		
		<lights>
			<light name="Sun" type="directional">
				<DIRECTION x="1" y="-1" z="-1" />
				<COLOR r="0.9" g="0.9" b="0.9" />
			</light>
		</lights>
	</assets>
	
	<pipelines default="script test">
		<pipeline name="script test" defaultCamera="Master">
			<pass class="default" name="master">
				<preScript file="test.lua" script="enterPassMaster" />
				<scenes>
					<scene name="MainScene" />
				</scenes>
				<camera name="Master" />
				<lights>
					<light name="Sun" />
				</lights>
				<postScript file="test.lua" script="leavingPassMaster" />
			</pass>
			
			<pass class="default" name="slave">
				<preScript file="test.lua" script="enterPassSlave" />
				<scenes>
					<scene name="MainScene" />
				</scenes>
				<camera name="Slave" />
				<lights>
					<light name="Sun" />
				</lights>
				<postScript file="test.lua" script="leavingPassSlave" />
			</pass>
			<postScript file="test.lua" script="syncCamera" />
		</pipeline>
		<pipeline name="no script" defaultCamera="Master">
			<pass class="default" name="master">
				<scenes>
					<scene name="MainScene" />
				</scenes>
				<camera name="Master" />
				<lights>
					<light name="Sun" />
				</lights>
			</pass>
			
			<pass class="default" name="slave">
				<scenes>
					<scene name="MainScene" />
				</scenes>
				<camera name="Slave" />
				<lights>
					<light name="Sun" />
				</lights>
			</pass>
		</pipeline>
	</pipelines>
</project>	